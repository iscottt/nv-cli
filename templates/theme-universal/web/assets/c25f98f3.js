import{A as w,p as x,z as b,k as $,o,c as n,u as d,F as p,i as B,m,e as F,a as t,w as N,g as c,t as u,j as V,$ as j,B as A}from"./065124e3.js";const C={class:"pandastudio-widget-articles mb-20"},E={key:0,class:"article mb-10 flex items-center g-8"},q={class:"info"},z={class:"metas flex gx-5 mt-1"},I={class:"text-error"},P=t("i",{class:"fa-regular fa-heart"},null,-1),R={class:"text-primary"},S=t("i",{class:"fa-regular fa-comments"},null,-1),D={class:"text-success"},L=t("i",{class:"fa-regular fa-eye"},null,-1),M={key:1,class:"text-center"},O={key:1},W={__name:"block-pandastudio-widget-articles",props:{data:{type:Object}},setup(f){var i=w("$post",{value:{id:0}}),a=f,s=x([]),g=()=>{j({method:"post",url:A+"/samsara/widget-articles",data:{order_type:a.data.order_type,post_id:i.value.id}}).then(({data:e})=>{a.data.order_type=="relate"?l.relate[i.value.id]=e:l[a.data.order_type]=e,s.value=e}).catch(e=>{s.value=null}).finally(()=>{})};window["pandastudio-widget-articles"]||(window["pandastudio-widget-articles"]={rand:[],likes:[],views:[],comments:[],relate:{}});var l=window["pandastudio-widget-articles"],v=(e,_)=>{if(["rand","likes","views","comments"].includes(e))return!l[e].length;if(e=="relate")return l.relate[_]?!l.relate[_].length:!0},y=()=>{v(a.data.order_type,i.value.id)?g():a.data.order_type=="relate"?s.value=l.relate[i.value.id]:s.value=l[a.data.order_type]};return b(()=>{y()}),(e,_)=>{const h=$("router-link");return o(),n("div",C,[d(s)?(o(),n(p,{key:0},[d(s).length?(o(!0),n(p,{key:0},B(d(s),(r,k)=>(o(),n(p,null,[k<d(a).data.count?(o(),n("div",E,[m(h,{to:`/${r.slug}`,class:"thumbnail flex-shrink-0",style:F({backgroundImage:`url('${r.thumbnail}')`})},null,8,["to","style"]),t("span",q,[m(h,{to:`/${r.slug}`,class:"title block"},{default:N(()=>[c(u(r.title),1)]),_:2},1032,["to"]),t("span",z,[t("span",I,[P,c(" "+u(r.likes),1)]),t("span",R,[S,c(" "+u(r.comments),1)]),t("span",D,[L,c(" "+u(r.views),1)])])])])):V("",!0)],64))),256)):(o(),n("p",M,"暂无数据"))],64)):(o(),n("p",O,"数据读取错误，请刷新"))])}}};export{W as default};
